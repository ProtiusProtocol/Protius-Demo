<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dashboard</title>
    <link rel="stylesheet" href="../styles/dao.css">
    <link rel="stylesheet" href="../styles/drop_down.css">
    <link rel="stylesheet" href="../styles/menu_styles.css">
    <link rel="stylesheet" href="../styles/dashboard.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" >
  </head>

<body id="page_body">

    <!-- Main Content -->
    <div class="main-content">
        
        <!-- Header -->
        <header id="page_header">
            <div>
                <img class="logo" src="../images/protius_protocol_logo.jpg" alt="Logo">
            </div>
            <div id="nav-container"></div>
        </header>
        <div style="height: 1cm;"></div>
        
        <!-- Row 1: Welcome message -->
        <h1>Hi there,</h1>
        <div>
            <p id="walletAddress" style="color: rgb(108, 91, 91); font-style: italic; margin-top: 0.5px; font-size: 1.5rem; text-align: left;"> Project Owner</p>
        </div> 
        <div style="height: 1cm;"></div>  

        
        <div class="card-grid">
          <div class="card">
            <div class="card-top" style="background: white;">
              <h3>20</h3>
              <img class="icon" src="../images/token_icon.png" alt="Token Icon">
            </div>
            <div class="card-bottom" style="background: #c97618;">
              <p id="token-balance">Token Balance</p>
            </div>
          </div>

          <div class="card">
            <div class="card-top" style="background: white;">
              <h3>10</h3>
              <img class="icon" src="../images/money_icon.png" alt="Fiat Icon">
            </div>
            <div class="card-bottom" style="background: #6c757d;">
              <p id="fiat-balance">Fiat Balance</p>
            </div>
          </div>

          <div class="card">
            <div class="card-top" style="background: white;">
              <h3>2</h3>
              <img class="icon" src="../images/portfolio_icon.png" alt="Token Icon">
            </div>
            <div class="card-bottom" style="background: #0ba8e6;">
              <p id="token-balance">Projects</p>
            </div>
          </div>

          <div class="card">
            <div class="card-top" style="background: white;">
              <h3>5</h3>
              <img class="icon" src="../images/pending_icon.png" alt="Fiat Icon">
            </div>
            <div class="card-bottom" style="background: rgb(216, 8, 243);">
              <p id="fiat-balance">Pending Transactions</p>
            </div>
          </div>

        </div>
        <div style="height: 1cm;"></div>

        <!-- Row 2: Network Overview -->
        <section class="about-section">
          <div class="text-box">
            <h2 style="text-align: left;">Recent Transactions</h2>
            <p>
              <ol>
                <li> Transaction 10 </li>
                <li> Transaction 9 </li>
                <li> Transaction 8 </li>
                <li> Transaction 7 </li>
                <li> Transaction 6 </li>
              </ol>
            </p>
          </div>
        </section>
        <hr>
        <div style="height: 1cm;"></div>


        <!-- Row 3: Network Overview -->
        <h2> Get Started </h2>
        <section class="information_cards">

            <div class="info_card">
              <h3> Create Project </h3>
              <p> Bring your renewable energy project on-chain! </p>
              <a href="create-project" type="button" class="button" style="color: white;"> Create </a>
            </div>

            <div class="info_card">
              <h3> Update Project </h3>
              <p> Update a project with details of its development. </p>
              <a href="update" type="button" class="button" style="color: white;"> Update </a>
            </div>
        
        </section>
        <hr>

        <!-- Row 4: Network Overview -->
        <h2> Portfolio </h2>
        <section class="information_cards">

        <div id="portfolio-container"></div>

        <dialog id="project-dialog">
          <div id="dialog-content"></div>
          <button onclick="document.getElementById('project-dialog').close()">Close</button>
        </dialog>

        </section>
        
    </div>

    <!-- Footer -->
    <footer id="page_footer">
        <p> Â© Protius Protocol. 2025 </p>
    </footer>


    <script src="./pages/connectWallet.js"></script>
    <script src="./pages/dashboard.js"></script>
    <script src="./pages/updatePortfolio.js"></script>


    <script>
        fetch('./pages/menu.html')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok: ' + response.status);
                }
                return response.text();
            })
            .then(data => {
                document.getElementById('nav-container').innerHTML = data;
                initializeWalletConnect();
            })
            .catch(error => {
                console.error('Error loading menu:', error);
                document.getElementById('nav-container').innerHTML = 'Failed to load menu';
            });
    </script>


</body>
</html>


